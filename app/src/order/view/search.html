<ng-include src="'app/src/order/view/header.html'"></ng-include>

<section layout="column" flex>
    
    <div ng-hide="ordCtrl.searchResults.documents"
        class="search-input-1"
        layout="column"
        layout-align="center center"
        flex>
        <form layout="row">
            <i class="material-icons" flex="10">search</i>
            <input
                flex
                type="text"
                ng-model="ordCtrl.searchTerm"
                placeholder="Search keyword"
                dl-enter-key="ordCtrl.executeSearch();">
        </form>
        <p>Search files and documents for order</p>
        <md-button ng-click="ordCtrl.advSearchIsVisible = !ordCtrl.advSearchIsVisible">
            <span ng-show="!ordCtrl.advSearchIsVisible">More search options</span>
            <span ng-show="ordCtrl.advSearchIsVisible">Hide search options</span>
        </md-button>
    </div>
    
    <div ng-show="ordCtrl.searchResults.documents"
        class="search-input-2"
        layout="row"
        layout-align="space-between center"
        layout-padding>
        <form>
            <i class="material-icons">search</i>
            <input type="text"
                ng-model="ordCtrl.searchTerm"
                placeholder="Search keyword"
                dl-enter-key="ordCtrl.executeSearch();">
            <md-button ng-click="ordCtrl.advSearchIsVisible = !ordCtrl.advSearchIsVisible">
                <span ng-show="!ordCtrl.advSearchIsVisible">More search options</span>
                <span ng-show="ordCtrl.advSearchIsVisible">Hide search options</span>
            </md-button>
        </form>
        <span flex></span>
        <a ui-sref="orderBasket"
            class="md-button md-text-icon-button md-raised md-primary">
            <i class="material-icons">shopping_basket</i>
            {{ 'ORDER.TITLE.BASKET' | translate }}
        </a>
    </div>
    
    <div ng-show="ordCtrl.advSearchIsVisible"
        layout-padding>
        <form>
            <select>
                <option>Some parameter</option>
            </select>
            <select>
                <option>AND</option>
                <option>OR</option>
            </select>
            <select>
                <option>Some value</option>
            </select>
            <md-button class="md-link">Add more options</md-button>
            <input type="submit" value="Search">
        </form>
    </div>

    <div class="search__list"
        ng-show="ordCtrl.searchResults.documents"
        layout="column"
        flex>
        <div class="simple-list"
            layout="column">
            <div class="simple-list__header">
                <div layout="row">
                    <div flex="10" style="text-align: center; vertical-align: top;">
                        <md-button
                            class="md-text-icon-button md-primary"
                            ng-click="ordCtrl.sortThis($event, 'thumbnail')">
                            {{ "COMMON.TYPE" | translate }}
                            <i ng-show="ordCtrl.orderBy === '-thumbnail'" class="material-icons">arrow_drop_up</i>
                            <i ng-show="ordCtrl.orderBy === 'thumbnail'" class="material-icons">arrow_drop_down</i>
                        </md-button>
                    </div>
                    <div flex style="vertical-align: top;">
                        <md-button
                            class="md-text-icon-button md-primary"
                            ng-click="ordCtrl.sortThis($event, 'title')">
                            {{ "COMMON.TITLE" | translate }}
                            <i ng-show="ordCtrl.orderBy === '-title'" class="material-icons">arrow_drop_up</i>
                            <i ng-show="ordCtrl.orderBy === 'title'" class="material-icons">arrow_drop_down</i>
                        </md-button>
                        <form>
                            <input
                                ng-model="ordCtrl.filterBy.title"
                                type="text"
                                placeholder="Filter by title"
                                style="margin-bottom: 8px;">
                        </form>
                    </div>
                    <div flex style="vertical-align: top;">
                        <md-button
                            class="md-text-icon-button md-primary"
                            ng-click="ordCtrl.sortThis($event, 'packageId')">
                            {{ "COMMON.PACKAGE_ID" | translate }}
                            <i ng-show="ordCtrl.orderBy === '-packageId'" class="material-icons">arrow_drop_up</i>
                            <i ng-show="ordCtrl.orderBy === 'packageId'" class="material-icons">arrow_drop_down</i>
                        </md-button>
                        <form>
                            <input
                                ng-model="ordCtrl.filterBy.packageId"
                                type="text"
                                placeholder="Filter by package ID"
                                style="margin-bottom: 8px;">
                        </form>
                    </div>
                    <div flex="10"
                        class="muted"
                        layout="column"
                        layout-align="end center"
                        layout-padding>
                        <span>Add to basket</span>
                    </div>
                </div>
            </div>
            <md-list class="simple-list__body md-dense">
                <md-list-item ng-repeat="item in ordCtrl.searchResults.documents | filter: ordCtrl.filterBy | orderBy: ordCtrl.orderBy"
                    layout="row"
                    class="simple-list__body__item">
                    <div flex="10" style="text-align: center" class="simple-list__cell">
                        <img ng-src="app/assets/images/filetypes/{{item.thumbnail}}" alt="">
                    </div>
                    <div flex class="simple-list__cell">
                        {{ item.title }} <small class="muted">{{item.displaySize}}</small>
                    </div>
                    <div flex class="simple-list__cell">
                        {{ item.packageId }}
                    </div>
                    <div flex="10"
                        layout="column"
                        layout-align="center center"
                         class="simple-list__cell">
                        <md-checkbox
                            ng-change="ordCtrl.addToBasket(item)"
                            ng-true-value="'add'"
                            ng-false-value="'delete'"
                            ng-model="item.baskOp"
                            aria-label="Add {{ item.title }} to basket">
                    </div>
                </md-list-item>
            </md-list>
        </div>
    </div>

</section>
